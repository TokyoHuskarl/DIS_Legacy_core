// DIS mission definition file 
// Experimental Example

{ // Mission config
	RTS.mission.conf.isSightSystemOn = false;
	RTS.mission.setPlayer(0,1); // player, imperials
	RTS.mission.setPlayer(1,3); // enemy, dragons

	// Use petrovka map generation data.
	// You can set directory name where mapdef.js file of the terrain that you want to use.
	// Otherwise DIS game will try to find the mapdef.js file in same directory as this file exists.
	// If your map is using unique RMmap to configure the mission (I mean Legacy missions like Kushira), setMapData() is meaningless.
	RTS.mission.setMapData("Legacy_Petrovka");
	deblog("Missiondef load")
}

	let fucker = Cmd.game.pic.load("camera_ball",10);
	fucker.refreshPicInfo();

{ // declaration

	// Variables that you want them to preserve must be declared in this way.
	// You can of course use global scope but to save memory you should put them under RTS.lc 
	RTS.global.Orthunass = RTS.mission.createMissionVar(); // create a variable whose scope is within the mission
	
	// picture size get test

}



// RTS.mission.startup() is called in the first setup of the DIS game.
RTS.mission.startup = function(){
	RTS.global.Orthunass.set(114514)
	// save
	Cmd.game.log("gutentag.");
	Cmd.game.log(trpid["TRP_dra_hero_orthunass_enemy"]);
	Cmd.player.moveCamera([12,32]);
	Cmd.game.log("I hate dragons so much it's unreal");
	Cmd.game.log("I love dragons so much it's unreal");
	Cmd.game.log("I hate dragons so much it's unreal");
	Cmd.map.spawnWall([24,32],[24,52],0)
	Cmd.map.spawnPalisade([32,32],[32,52],1)
};


// Trigger 1
	RTS.global.sampletrig = RTS.mission.createSimpleTrigger_Timer(0,0,3); // class RTStrigger(condtion)
	RTS.global.sampletrig.effect = function(){ // if condition is fulfilled, execute commands in this block
		Cmd.game.log("I hate dragons so much it's unreal");
		Cmd.game.log("I love dragons so much it's unreal");
		Cmd.game.log("I hate dragons so much it's unreal");
		let orthunassid = Cmd.map.spawnAgent(trpid["TRP_dra_hero_orthunass_enemy"],[12,32],0,0,0,0)
		RTS.global.Orthunass.set(orthunassid.agentid); // you have to call set/get funcs of the Mission var.
		let sex = new DIS_dialog("aaaaaasexeseses",333);
		Cmd.ui.pushDialogQueue(sex);
		let pocc = new DIS_dialog("we wuz vikangz n'shieeeeet",333);
		Cmd.ui.pushDialogQueue(pocc);
	};
	RTS.mission.setTrigger(RTS.global.sampletrig); // now this triggers is set to run in the game



// Trigger 2
	RTS.global.fugg = RTS.mission.createSimpleTrigger_Loop(90); // class RTStrigger(condtion)
	RTS.global.fugg.effect = function(){ // if condition is fulfilled, execute commands in this block
		let gruppe = Cmd.map.spawnAgentgroup(trpid["TRP_imperial_comitatenses_menavlion"],[27,32],0,[0,-2],8,0,0);
		Cmd.group.setCgrp(gruppe);
		Cmd.map.spawnAgent(1,[12,32],0,0,0,0);
		deblog(RTS.global.Orthunass.get());
		fucker.refreshPicInfo();
	};
	RTS.mission.setTrigger(RTS.global.fugg) // now this triggers is set to run in the game




