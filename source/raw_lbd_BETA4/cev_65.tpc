cev .id(65), .name("cev65"), {
v[301] = v[101] * 300
v[301] += 4700
v[300] = v[301] + 1
v[299] = v[301] + 107
v[371] = v[v[300]] > 0 ? 1 : 0
v[371] += v[99] > 1 ? 1 : 0
@if v[371] >= 1 {
    @if s[27] .isOn() {
        @comment "最大MPを持っているか（Unit生産できるか）"
        @if v[v[299]] >= 1 {
            @comment "#予約キャンセル"
            @comment "XとYは事前に突っ込んでおいてね"
            v[341] = v[301] + 1
            @if v[v[341]] >= 10 {
                v[355] = v[942] >= 1 ? 5 : 1
                v[355] = v[943] >= 1 ? 10 : v[355]
                v[148] = v[355]
                v[355] *= v[99]
                v[147] = 0
                s[115].on
                @loop v[355] {
                    v[147] %= v[99]
                    v[301] = v[v[147] + 101] * 300 + 4700
                    v[341] = v[301] + 1
                    @comment "TT2 = 生産するユニット
TT3 = 予約数
TT4 = 予約ずらし1
TT5 = 予約ずらし2"
                    v[342] = v[341] + 137
                    v[343] = v[341] + 169
                    @if v[v[343]] >= 1 {
                        @comment "生産開始"
                        @comment "#ずらす"
                        v[344] = v[341] + 170
                        v[345] = v[341] + 171
                        @loop 29 {
                            v[v[344]] = v[v[345]]
                            v[344..345] += 1
                            
                        }
                        
                        @comment "#生産開始"
                        v[346] = v[v[342]] + v[1053]
                        s[151].on
                        @if v[346] >= 10000 {
                            v[346] -= 9800
                            v[346] -= v[1053]
                            v[255] = v[101]
                            @call .cev v[346]
                            
                        } .else bl {
                            @if v[v[342]] <= 80 {
                                @call .cev v[346]
                                
                            } .else bl {
                                s[152].on
                                v[254] = v[v[342]]
                                @call .cev 300
                                
                            }
                            
                        }
                        s[151].off
                        v[v[343]] -= 1
                        @comment "#TT6=MP"
                        v[346] = v[341] + 107
                        v[v[301] + 3] &= ~1
                        @if v[v[343]] <= 0 {
                            @comment "予約なし"
                            v[1301].copy v[v[342]], 3
                            @comment "#MP数値-1"
                            v[v[346]] = -1
                            
                        } .else bl {
                            @comment "予約あり"
                            v[344] = v[341] + 170
                            v[344] = v[v[344]] * 3
                            v[344] += v[341] + 137
                            v[v[344]].copy v[v[342]], 3
                            @comment "#MP数値0"
                            v[v[346]] = 0
                            
                        }
                        v[472] = divmul(80, 100, v[2216])
                        @se.play "Clock" .opt v[472], 50, 50
                        @comment "#Tech Flag"
                        v[301] = v[101] * 300
                        v[301] += 4700
                        v[v[301] + 3] &= ~1
                        @comment "safety"
                        @if v[300001] < 999999999 {
                            v[300001] .add v[31], 4
                            
                        }
                        @call .cev 84
                        v[148] -= 1
                        @if v[148] <= 0 {
                            @break
                            
                        }
                        
                    }
                    v[147] += 1
                    
                }
                
                s[115].off
                
            }
            
        }
        
    } .else bl {
        @if s[29] .isOn() {
            v[11] = 0
            s[204].off
            @call .cev 797
            v[87..88] = 0
            @pic[999].erase
            
        } .else bl {
            @call .cev 56
            
        }
        
    }
    
}
}