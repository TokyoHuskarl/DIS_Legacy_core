# DIS_core
The core part of DIS:Legacy written in TPC language.

############################# 
TPC化されたDIS:Legacyのldbソースです。 可読性は酷いですが一応オープンソースに… 
当該ldbでは1000個以上のコモンイベントが無秩序に拡散してしまっているため， 2003上で開いて中身を見るよりはこちらのほうがまだわかりやすいと思われます。
日々可読化を進めていますがまだまだカオスです。
まあTPCによる開発プロジェクトの参考等にどうぞ。

vim用のTPC対応シンタックスハイライトが付属しています(微妙な出来)。

一番上の階層に最新のtpc.exeを入れた状態でDIS_Legacyディレクトリの中に入れて，中のbatファイルを使うとldbが更新されます（詳細後述）
tpc.exe製作者である氷山羊様からの許可を頂ければtpc.exeが同梱されるかもしれません

アセット変更を伴わない更新は基本的にこちらのmasterブランチでなされ，大幅なアセット変更を伴う変更があった場合にのみitchでBETA版の更新がなされるものと考えてください。
改造等については自己責任でよろしくお願いします（予告のない仕様変更を行います）
ライセンス等は現状未定ですが，mod補助システムが完成したら一定程度かっちりした態様のものを起草する予定です
（RPG Maker 2003 EULA等のツクール本家の規定を遵守した上で，最大限利用者の自由を担保するような態様にしたいと考えています）

その他の質問についてはDIS公式Discordでどうぞ:
	https://discord.com/invite/JFJaFWzGMR
	（過疎過疎なのでまともな答えが返ってくるのは作者の気が向いた時だけです）

#############################
～具体的なコンパイル方法～
	1.このレポジトリを何らかの形でお手持ちのDIS_Legacyディレクトリの中へ投入
		-gitが入っている場合はDIS_Legacyディレクトリへcdした上で
		 git clone https://github.com/TokyoHuskarl/DIS_Legacy_core.git
		 を実行すればよいだけです。
		 作者が無秩序にcommitとpushをしまくるBETA版の更新に付いていきたい奇矯な人はgitを入れてBETAという名前がついているブランチを都度pullすると幸せになれます
	../DIS_Legacy/DIS_Legacy_core/という構造ができたら次へ

	2.Maniacs Patch開発室から最新のtpc.exeをダウンロード
	Maniacs Patchの開発室リンク:
		http://discord.gg/5NnbMtQ
		DIS:Legacyについての質問は絶対にManiacs Patchの開発室でしないでください。スレチです。

	当該サーバのテキストチャンネル->exeとかのファイルを開き，最新のtpc.zipをダウンロードしましょう
	その後解凍すると出てくる中身を全部（正確に言えばsample.txtとreadme.txtは不要ですが）DIS_Legacy_coreのsource,reference等のディレクトリが置いてある一番上の階層に入れます

	3.DIS_Legacy_core/source/に入っているcompile_all.batを実行
	　各ディレクトリ内に配置されている個別のbatファイルを実行することで，モジュールごとに個別にコンパイルすることもできます。
	　コンパイルログはlogs/以下に保存されます（が，batの書き方が適当なので何か変です）

	　エラーが出たりする場合は以下を検討してみてください：
		・tpc.exeがウイルス扱いされて排除されていないか？
		・tpc.exeや作業ディレクトリの位置は適当か？
		・def_から始まるldb,lmt,lmu三種のtxtファイルがtpc.exeと同じ階層にあるか？
		・(LinuxでWineを通して実行する場合)Wineのprefixは32bitか？（tpc.exeは32bitでしか動かないようです）
		・BETAブランチから持ってきたソースコードではないか？（基本的にレポジトリ公開版についての動作は保証しませんが，中でもBETAはきりのいいところでとりあえずpushしたりするので非常に不安定です）
	
	エラーが出るにしろ出ないにしろ，"All compile process finished - IT'S OVER."
	という表記が出たらコンパイル終了です。あとはDIS_Legacy.exeを起動すれば変更された内容で遊べます。

	
#############################
～abandonwareと化しながらも何者かが解析に成功し拡張ヴァリアントを作ったような場合に備えての置き書き～
	DIS_Coreとしてまとめられ，このリポジトリで頒布されているTPCソースコード自体については，原則として複製・改変・翻案自由・改変物の頒布自由とします。
	（中々難しいとは思いますが）構成ファイル中のどこかの処理をそのままパクって，あなたの2003MP製ゲームにねじ込んでくれたりしてくれても一向に構いません。
	ただし，二次的な利用に際しての動作保証は一切しません。
	仮にこのソフトウェアを利用したことで何かしらの問題が生じたとしても作者は一切の責任を負いません。

	また，ソースコードの利用目的がDIS:Legacy(以下本体といいます)のldb書き換えとなる場合は，以下の条件に従ってください：
		1.書き換えたソースコードを本体ldbへとコンパイルして得られた翻案ldbをModあるいはヴァリアントとして頒布する場合，パッチした本体丸ごとの頒布は（いかにフリーとはいえ素材権利関係等が面倒そうなので）禁止します。
		2.翻案ldbの頒布については，RPG Maker 2003(以下本家2003とします)の利用規約に従い，本家2003の正規ライセンスを有している者だけに許可します。
		　要するに本家2003をSteamで買えということです。
		3.ないと思いますが商用利用・有料販売については原則禁止・要相談とします。

	（この欄の表記の記載は今後変更されることがあります）
